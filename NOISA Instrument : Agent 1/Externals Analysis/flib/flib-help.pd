#N canvas 110 129 1263 654 10;
#N canvas 0 0 450 300 (subpatch) 0;
#X array hanning-256 256 float 1;
#A 0 6.25849e-07 0.000178367 0.000671506 0.00147969 0.00260246 0.00403905
0.00578856 0.00784993 0.0102219 0.0129028 0.0158911 0.0191849 0.022782
0.0266803 0.0308772 0.0353702 0.0401563 0.0452325 0.0505957 0.0562425
0.0621693 0.0683723 0.0715762 0.0781863 0.0850625 0.0922004 0.0995958
0.107244 0.11514 0.123278 0.131655 0.140263 0.149099 0.158156 0.167429
0.176912 0.186598 0.196483 0.206559 0.21682 0.227259 0.237871 0.248648
0.254097 0.265109 0.27627 0.287572 0.299007 0.31057 0.322252 0.334047
0.345946 0.357942 0.370028 0.382196 0.394438 0.406747 0.419115 0.431534
0.443996 0.456493 0.469018 0.481562 0.494118 0.500398 0.512957 0.525507
0.538041 0.550552 0.56303 0.575469 0.58786 0.600195 0.612467 0.624669
0.636792 0.648828 0.66077 0.672611 0.684344 0.695959 0.707452 0.718813
0.730036 0.741114 0.75204 0.757444 0.768129 0.778644 0.788984 0.799141
0.80911 0.818884 0.828456 0.837821 0.846973 0.855907 0.864615 0.873094
0.881337 0.889339 0.897096 0.904602 0.911853 0.918844 0.925571 0.932029
0.935156 0.941204 0.946974 0.952461 0.957663 0.962576 0.967197 0.971524
0.975553 0.979282 0.982708 0.98583 0.988646 0.991153 0.99335 0.995236
0.996809 0.998069 0.999014 0.999645 0.999961 1 0.999842 0.999369 0.998581
0.997478 0.996061 0.994332 0.99229 0.989938 0.987276 0.984307 0.981033
0.977455 0.973576 0.969398 0.964923 0.960156 0.955098 0.949753 0.944124
0.938215 0.932029 0.928834 0.922241 0.915381 0.90826 0.900881 0.893248
0.885368 0.877245 0.868883 0.860289 0.851468 0.842424 0.833165 0.823696
0.814022 0.80415 0.794086 0.783836 0.773408 0.762807 0.75204 0.746596
0.735594 0.724442 0.713149 0.701721 0.690166 0.678492 0.666704 0.654811
0.642821 0.630741 0.618578 0.60634 0.594035 0.581671 0.569255 0.556795
0.5443 0.531777 0.519233 0.506678 0.500398 0.487839 0.475288 0.462753
0.450241 0.43776 0.425319 0.412924 0.400585 0.388309 0.376102 0.363975
0.351932 0.339984 0.328136 0.316397 0.304773 0.293273 0.281903 0.270671
0.259584 0.248648 0.243239 0.232544 0.222017 0.211666 0.201497 0.191516
0.18173 0.172145 0.162766 0.1536 0.144653 0.13593 0.127437 0.119179
0.111161 0.103389 0.0958663 0.088599 0.0815913 0.0748477 0.0683723
0.0652365 0.0591711 0.0533839 0.0478785 0.0426584 0.0377267 0.0330869
0.0287416 0.0246937 0.0209457 0.0175 0.0143586 0.0115238 0.00899717
0.00678036 0.00487477 0.00328156 0.00200179 0.00103623 0.000385523
5.00679e-05;
#X coords 0 1 255 0 100 70 1;
#X restore 957 225 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array sig 256 float 1;
#A 0 0 0 0 0 0 -0 -0 0 0 0 -0 -0 -0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 -0
-0 0 0 0 -0 -0 -0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 -0 -0 -0 0 0 -0 -0 -0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 -0 -0 -0 0 0 -0 -0 -0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 -0 -0 -0 0 0 -0 -0 -0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 -0 -0 -0
0 0 -0 -0 -0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 -0 -0 -0 0 0 -0 -0 -0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 -0 -0 0 0 -0 -0 -0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 -0 -0 0 0 -0 -0 -0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 -0 -0 0 0
-0 -0 -0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 -0 -0 0 0 -0 -0 -0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 -0 -0 0 0 -0 -0 -0 0;
#X coords 0 1 255 -1 100 70 1;
#X restore 958 135 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array mspec 256 float 1;
#A 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X coords 0 1 255 0 100 70 1;
#X restore 957 310 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array pspec 256 float 1;
#A 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X coords 0 3.142 255 -3.142 100 70 1;
#X restore 957 393 graph;
#X obj 451 79 tabreceive~ hanning-256;
#X obj 417 105 *~;
#X obj 447 108 tabsend~ sig;
#X obj 414 174 mspec~;
#X obj 417 129 rfft~;
#X obj 413 223 pspec~;
#X obj 310 172 tabsend~ mspec;
#X obj 307 225 tabsend~ pspec;
#X obj 955 10 block~ 256 1 1;
#N canvas 0 0 450 300 (subpatch) 0;
#X array peak 256 float 1;
#A 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X coords 0 100 255 0 100 70 1;
#X restore 959 486 graph;
#X obj 305 263 tabsend~ peak;
#X obj 532 55 hsl 128 15 0 1 0 0 empty empty empty -2 -6 0 8 -262144
-1 -1 0 1;
#X obj 419 81 *~;
#X obj 514 33 expr (1 - $f1);
#X obj 498 55 *~;
#X obj 214 343 sc~;
#X obj 247 344 ss~;
#X obj 281 344 irreg~;
#X obj 402 345 trist~ y;
#X obj 535 344 sfm~;
#X floatatom 214 384 10 0 0 0 - - -;
#X floatatom 247 406 15 0 0 0 - - -;
#X floatatom 282 430 15 0 0 0 - - -;
#X floatatom 402 475 10 0 0 0 - - -;
#X floatatom 535 511 10 0 0 0 - - -;
#N canvas 0 0 450 300 (subpatch) 0;
#X array synth 515 float 1;
#A 0 -0.0758575 0 0.0758575 0.151259 0.22575 0.298886 0.370232 0.439366
0.505884 0.569402 0.629561 0.686025 0.73849 0.78668 0.830352 0.869301
0.903353 0.932375 0.956271 0.974981 0.988487 0.996808 1 0.998157 0.991408
0.97992 0.963887 0.94354 0.919135 0.890954 0.859306 0.824517 0.786934
0.746916 0.704835 0.661072 0.616012 0.570041 0.523545 0.476904 0.430491
0.384667 0.339778 0.296157 0.254114 0.213937 0.175894 0.140224 0.107139
0.0768217 0.0494266 0.0250762 0.00386161 -0.0141573 -0.0289523 -0.0405264
-0.0489129 -0.054175 -0.0564043 -0.0557193 -0.0522641 -0.0462062 -0.0377346
-0.0270574 -0.0143997 -8.20971e-07 0.0158883 0.0330077 0.0510911 0.069869
0.089071 0.108429 0.127679 0.146565 0.164841 0.182272 0.198639 0.213738
0.227383 0.23941 0.249673 0.258052 0.264448 0.268786 0.271017 0.271116
0.269082 0.264938 0.258732 0.250534 0.240436 0.22855 0.215007 0.199957
0.183562 0.166002 0.147466 0.128152 0.108266 0.0880183 0.0676219 0.0472895
0.0272315 0.00765355 -0.0112454 -0.0292755 -0.0462582 -0.0620275 -0.0764325
-0.0893385 -0.100628 -0.110204 -0.117987 -0.123921 -0.127968 -0.130114
-0.130365 -0.128751 -0.12532 -0.120142 -0.113307 -0.104922 -0.0951123
-0.0840199 -0.0718 -0.0586207 -0.0446606 -0.0301073 -0.0151549 -1.64195e-06
0.0151516 0.0301041 0.0446575 0.0586177 0.0717973 0.0840174 0.09511
0.10492 0.113305 0.120141 0.125319 0.128751 0.130365 0.130114 0.127968
0.123922 0.117989 0.110206 0.100631 0.0893411 0.0764355 0.0620308 0.0462617
0.0292793 0.0112494 -0.00764938 -0.0272272 -0.0472851 -0.0676175 -0.0880139
-0.108262 -0.128148 -0.147462 -0.165998 -0.183559 -0.199953 -0.215004
-0.228547 -0.240434 -0.250532 -0.258731 -0.264937 -0.269081 -0.271116
-0.271018 -0.268787 -0.264449 -0.258054 -0.249675 -0.239412 -0.227386
-0.213741 -0.198643 -0.182276 -0.164845 -0.146569 -0.127683 -0.108433
-0.0890752 -0.0698731 -0.0510951 -0.0330115 -0.0158919 -2.46294e-06
0.0143968 0.0270549 0.0377325 0.0462046 0.0522631 0.0557189 0.0564045
0.0541758 0.0489144 0.0405285 0.0289552 0.0141609 -0.00385737 -0.0250713
-0.049421 -0.0768154 -0.107132 -0.140217 -0.175886 -0.213929 -0.254105
-0.296148 -0.339769 -0.384657 -0.430481 -0.476894 -0.523535 -0.570031
-0.616002 -0.661063 -0.704826 -0.746907 -0.786925 -0.82451 -0.859299
-0.890948 -0.919129 -0.943535 -0.963883 -0.979917 -0.991406 -0.998156
-1 -0.996809 -0.98849 -0.974985 -0.956275 -0.932381 -0.90336 -0.869309
-0.830361 -0.78669 -0.738501 -0.686037 -0.629574 -0.569416 -0.505898
-0.439381 -0.370247 -0.298902 -0.225766 -0.151275 -0.0758739 -1.64195e-05
0.0758412 0.151242 0.225734 0.298871 0.370217 0.439351 0.50587 0.569389
0.629548 0.686014 0.738479 0.78667 0.830343 0.869293 0.903346 0.93237
0.956266 0.974978 0.988485 0.996807 1 0.998158 0.99141 0.979922 0.963891
0.943545 0.91914 0.890961 0.859313 0.824525 0.786942 0.746925 0.704845
0.661082 0.616022 0.570051 0.523555 0.476914 0.430501 0.384676 0.339788
0.296166 0.254122 0.213946 0.175902 0.140231 0.107145 0.0768279 0.0494322
0.0250811 0.00386586 -0.0141538 -0.0289495 -0.0405242 -0.0489114 -0.0541742
-0.0564041 -0.0557198 -0.0522652 -0.0462078 -0.0377366 -0.0270599 -0.0144026
-4.10481e-06 0.0158847 0.0330038 0.0510871 0.0698649 0.0890669 0.108425
0.127675 0.146561 0.164837 0.182269 0.198636 0.213735 0.22738 0.239407
0.249671 0.25805 0.264447 0.268785 0.271017 0.271116 0.269082 0.264939
0.258734 0.250536 0.240439 0.228553 0.21501 0.19996 0.183566 0.166006
0.14747 0.128156 0.10827 0.0880227 0.0676263 0.0472939 0.0272358 0.00765772
-0.0112414 -0.0292718 -0.0462546 -0.0620243 -0.0764296 -0.0893359 -0.100626
-0.110202 -0.117986 -0.12392 -0.127967 -0.130113 -0.130366 -0.128752
-0.125321 -0.120143 -0.113308 -0.104924 -0.0951146 -0.0840225 -0.0718028
-0.0586236 -0.0446637 -0.0301105 -0.0151581 -4.92584e-06 0.0151483
0.030101 0.0446545 0.0586148 0.0717945 0.0840149 0.0951078 0.104918
0.113303 0.12014 0.125318 0.12875 0.130365 0.130114 0.127969 0.123923
0.11799 0.110208 0.100633 0.0893437 0.0764384 0.0620341 0.0462653 0.0292831
0.0112534 -0.00764522 -0.0272229 -0.0472807 -0.0676131 -0.0880095 -0.108257
-0.128143 -0.147458 -0.165995 -0.183555 -0.19995 -0.215001 -0.228545
-0.240431 -0.25053 -0.258729 -0.264936 -0.26908 -0.271116 -0.271018
-0.268788 -0.26445 -0.258055 -0.249677 -0.239414 -0.227389 -0.213744
-0.198646 -0.18228 -0.164849 -0.146573 -0.127687 -0.108437 -0.0890794
-0.0698772 -0.0510991 -0.0330153 -0.0158954 -5.74692e-06 0.0143938
0.0270523 0.0377304 0.0462031 0.0522621 0.0557184 0.0564046 0.0541766
0.0489159 0.0405307 0.028958 0.0141644 -0.00385313 -0.0250663 -0.0494154
-0.0768092 -0.107125 -0.140209 -0.175878 -0.213921 -0.254096 -0.296138
-0.339759 -0.384647 -0.430471 -0.476884 -0.523525 -0.570021 -0.615992
-0.661053 -0.704817 -0.746898 -0.786917 -0.824502 -0.859292 -0.890941
-0.919123 -0.94353 -0.96388 -0.979914 -0.991404 -0.998155 -1 -0.99681
-0.988492 -0.974988 -0.95628 -0.932387 -0.903367 -0.869317 -0.83037
-0.786699 -0.738512 -0.686049 -0.629586 -0.569429 -0.505912 -0.439395
-0.370262 -0.298918 -0.225782 -0.151291 -0.0758903 -3.28389e-05 0.0758248
;
#X coords 0 1 514 -1 100 70 1;
#X restore 957 44 graph;
#X obj 482 13 tabosc4~ synth;
#X text 667 56 Fade between cosine and synth;
#X text 661 -5 flib - feature extraction library;
#X text 661 11 *********************************;
#X text 460 169 Get magnitude spectrum from fft. Argument of 2 gives
power spectrum.;
#X text 458 224 Get phase spectrum from fft.;
#X text 467 253 Get spectral peaks from magnitudes and estimate frequency.
Argumnent or right inlet sets threshold as percentage of the maximum
peak detected in each frame;
#N canvas 0 0 450 300 hidden 0;
#X msg 89 176 \; pd dsp 1;
#X obj 30 133 loadbang;
#X obj 30 151 t b b;
#X msg 89 123 \; synth sinesum 0.8 0 0.4 0 0.4 0 0.4 0 0.4 \; synth
normalize;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 2 1 3 0;
#X restore 224 -3 pd hidden;
#X floatatom 334 455 10 0 0 0 - - -;
#X obj 334 344 trist~ x;
#X floatatom 468 493 10 0 0 0 - - -;
#X obj 468 346 trist~ z;
#X text 225 530 Spectral Centroid \, Spectral Smoothness \, Irregularity
\, Tristimulus x \, y and z \, Spectral Flatnes Measure.;
#X obj 577 344 print~ freq;
#X obj 577 318 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#X obj 413 14 sig~ 2000;
#X obj 413 31 /~ 2;
#X obj 418 57 osc~;
#X obj 416 -6 hsl 128 15 80 8000 0 0 empty empty Fundamental -2 -6
0 8 -262144 -1 -1 0 1;
#X floatatom 363 16 5 0 0 0 - - -;
#X obj 404 264 peak~ 40;
#X text 596 318 Bang to print frequency of partials;
#X obj 257 173 s~ m;
#X obj 575 408 r~ m;
#X floatatom 575 450 5 0 0 0 - - -;
#X obj 672 449 / 128;
#X floatatom 672 470 8 0 0 0 - - -;
#X obj 672 428 ++~;
#X text 733 470 arithmetic mean;
#X obj 575 429 bmax~ 2;
#X obj 619 450 unpack;
#X floatatom 619 471 5 0 0 0 - - -;
#X floatatom 656 489 5 0 0 0 - - -;
#X text 695 490 locations of max value;
#X text 612 407 bmax gives block max \, arg gives n locations;
#X text 705 428 ++ returns the sum of block samps;
#X obj 165 297 fiddle~;
#X obj 363 129 s~ fidd;
#X obj 166 275 r~ fidd;
#X obj 194 318 mtof;
#X floatatom 158 382 5 0 0 0 - - -;
#X floatatom 179 404 5 0 0 0 - - -;
#X floatatom 202 427 5 0 0 0 - - -;
#X obj 158 344 hca~ 10;
#X text -17 443 Partials \, harmonics \, even harmonics;
#X obj 126 344 /;
#X floatatom 116 380 5 0 0 0 - - -;
#X text 27 378 Harmonicity;
#X obj 124 160 flib;
#X connect 4 0 5 1;
#X connect 5 0 8 0;
#X connect 5 0 67 0;
#X connect 7 0 10 0;
#X connect 7 0 20 0;
#X connect 7 0 21 0;
#X connect 7 0 50 0;
#X connect 7 0 52 0;
#X connect 8 0 7 0;
#X connect 8 0 9 0;
#X connect 8 1 7 1;
#X connect 8 1 9 1;
#X connect 9 0 11 0;
#X connect 15 0 16 1;
#X connect 15 0 17 0;
#X connect 16 0 5 0;
#X connect 16 0 6 0;
#X connect 17 0 18 1;
#X connect 18 0 5 0;
#X connect 18 0 6 0;
#X connect 19 0 24 0;
#X connect 20 0 25 0;
#X connect 21 0 26 0;
#X connect 22 0 27 0;
#X connect 23 0 28 0;
#X connect 30 0 18 0;
#X connect 39 0 38 0;
#X connect 41 0 40 0;
#X connect 44 0 43 0;
#X connect 45 0 46 0;
#X connect 45 0 47 0;
#X connect 46 0 30 0;
#X connect 47 0 16 0;
#X connect 48 0 45 0;
#X connect 48 0 49 0;
#X connect 50 0 19 0;
#X connect 50 0 43 0;
#X connect 50 0 73 0;
#X connect 50 1 14 0;
#X connect 50 1 19 1;
#X connect 50 1 22 0;
#X connect 50 1 23 0;
#X connect 50 1 39 0;
#X connect 50 1 41 0;
#X connect 53 0 57 0;
#X connect 53 0 59 0;
#X connect 55 0 56 0;
#X connect 57 0 55 0;
#X connect 59 0 54 0;
#X connect 59 1 60 0;
#X connect 60 0 61 0;
#X connect 60 1 62 0;
#X connect 66 2 69 0;
#X connect 68 0 66 0;
#X connect 69 0 73 1;
#X connect 73 0 70 0;
#X connect 73 0 75 1;
#X connect 73 1 71 0;
#X connect 73 1 75 0;
#X connect 73 2 72 0;
#X connect 75 0 76 0;
